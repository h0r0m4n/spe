var app=angular.module("spe",["ngRoute","ngSanitize","mm.foundation","ngAnimate"]);app.config(["$routeProvider","$locationProvider",function(e,t){t.html5Mode(!0),e.when("/",{templateUrl:myLocalized.views+"home.html",controller:"Home"}).when("/category/:category/",{templateUrl:myLocalized.views+"home.html",controller:"Category"}).when("/category/:category/page/:page",{templateUrl:myLocalized.views+"home.html",controller:"Category"}).when("/page/:page",{templateUrl:myLocalized.views+"home.html",controller:"Paged"}).when("/blog/:slug",{templateUrl:myLocalized.views+"single.html",controller:"Single"}).when("/:slug",{templateUrl:myLocalized.views+"page.html",controller:"Page"}).otherwise({templateUrl:myLocalized.views+"404.html",controller:"404"})}]),app.controller("TopBarCtrl",["$scope","$http",function(e,t){t.get("wp-json").success(function(t){e.site=t}),t.get("wp-json/pages/").success(function(t){e.pages=t})}]),app.controller("Home",["$scope","$http","WP",function(e,t,o){o.getAllCategories(),e.data=o,t.get("wp-json/posts/").success(function(t,o,r){e.posts=t,document.querySelector("title").innerHTML="SPE",e.currentPage=1,e.totalPages=r("X-WP-TotalPages")}),t.get("wp-json/taxonomies/category/terms").success(function(t){e.taxonomies=t})}]),app.controller("Single",["$scope","$http","$routeParams",function(e,t,o){t.get("wp-json/posts/?filter[name]="+o.slug).success(function(t){e.post=t[0],document.querySelector("title").innerHTML=t[0].title+" | SPE"})}]),app.controller("Page",["$scope","$http","$routeParams",function(e,t,o){t.get("wp-json/pages/?filter[name]="+o.slug).success(function(t){e.page=t[0],document.querySelector("title").innerHTML=t[0].title+" | SPE"})}]),app.controller("Category",["$scope","$location","$routeParams","$http","WP",function(e,t,o,r,a){a.getAllCategories(),e.data=a,r.get("wp-json/taxonomies/category/terms/?filter[slug]="+o.category).success(function(a){if(a.length){e.isActive=function(e){return e===t.path()},e.current_category_id=a[0].ID;var n=o.page?parseInt(o.page):1;document.querySelector("title").innerHTML=a[0].name+" | SPE";var l="wp-json/posts/?filter[category_name]="+a[0].name;o.page&&(l+="&page="+n),r.get(l).success(function(t,r,a){o.page&&(isNaN(n)||n>a("X-WP-TotalPages"))?document.querySelector("title").innerHTML="404 | SPE":(e.posts=t,e.currentPage=n,e.totalPages=a("X-WP-TotalPages"))})}else document.querySelector("title").innerHTML="404 | SPE"})}]),app.controller("Paged",["$scope","$routeParams","$http","WP",function(e,t,o,r){r.getAllCategories(),e.data=r,o.get("wp-json/posts/?page="+t.page).success(function(o,r,a){var n=parseInt(t.page);isNaN(n)||n>a("X-WP-TotalPages")?document.querySelector("title").innerHTML="404 | SPE":(e.currentPage=n,e.totalPages=a("X-WP-TotalPages"),e.posts=o,document.querySelector("title").innerHTML="Page "+e.currentPage+" | SPE")})}]),app.directive("searchForm",function(){return{restrict:"EA",template:'<input type="text" placeholder="Search" name="s" ng-model="filter.s" ng-change="search()">',controller:["$scope","$http",function(e,t){e.filter={s:""},e.search=function(){t.get("wp-json/posts/?filter[s]="+e.filter.s+"&filter[posts_per_page]=-1").success(function(t){e.posts=t,e.currentPage=1,e.totalPages=1})}}]}}),app.directive("postsNavLink",function(){return{restrict:"EA",templateUrl:myLocalized.views+"posts-nav-link.html",controller:["$scope","$element","$routeParams",function(e,t,o){var r=o.page?parseInt(o.page):1,a=o.category?"category/"+o.category+"/page/":"page/";e.postsNavLink={prevLink:a+(r-1),nextLink:a+(r+1),sep:t.attr("sep")?t.attr("sep"):"|",prevLabel:t.attr("prev-label")?t.attr("prev-label"):"Previous Page",nextLabel:t.attr("next-label")?t.attr("next-label"):"Next Page"}}]}}),app.controller("404",function(){document.querySelector("title").innerHTML="404 | SPE"});
//# sourceMappingURL=./scripts.min.js.map